üéØ M·ª•c ƒë√≠ch ch√≠nh

T·ª± ƒë·ªông nh·∫Øc nh·ªü kh√°ch h√†ng khi d·ªãch v·ª• s·∫Øp h·∫øt h·∫°n (d·ª±a tr√™n Google Sheets).

X√°c minh giao d·ªãch chuy·ªÉn kho·∫£n t·ª´ ·∫£nh ch·ª•p ch·ª©ng t·ª´ m√† kh√°ch g·ª≠i qua Telegram:

T·ª± ƒë·ªông nh·∫≠n ·∫£nh.

Tr√≠ch xu·∫•t th√¥ng tin (s·ªë ti·ªÅn, n·ªôi dung chuy·ªÉn kho·∫£n, ng√†y giao d·ªãch) b·∫±ng Google Gemini AI.

So kh·ªõp v·ªõi th√¥ng tin trong Google Sheets.

G·ª≠i th√¥ng b√°o cho kh√°ch h√†ng v√† CSKH n·∫øu sai s√≥t.

X√°c nh·∫≠n thanh to√°n th√†nh c√¥ng n·∫øu ƒë√∫ng.

üõ† C√°c th√†nh ph·∫ßn ch√≠nh trong Workflow
1. Schedule Trigger (H·∫πn gi·ªù)

Ch·∫°y m·ªói s√°ng l√∫c 8h.

K√≠ch ho·∫°t vi·ªác ki·ªÉm tra danh s√°ch kh√°ch h√†ng.

2. L·∫•y danh s√°ch ch∆∞a thanh to√°n (Google Sheets)

Truy v·∫•n sheet ƒë·ªÉ l·∫•y t·∫•t c·∫£ kh√°ch h√†ng c√≥ tr·∫°ng th√°i ch∆∞a thanh to√°n.

3. L·ªçc nh·ªØng kh√°ch h√†ng ƒë·∫øn h·∫°n (Code Node)

L·∫•y ng√†y h·∫øt h·∫°n d·ªãch v·ª• t·ª´ sheet.

Gi·ªØ l·∫°i c√°c kh√°ch h√†ng s·∫Øp h·∫øt h·∫°n trong 11 ng√†y t·ªõi.

4. T·∫°o n·ªôi dung tin nh·∫Øn nh·∫Øc nh·ªü

Sinh ra tin nh·∫Øn c√° nh√¢n h√≥a: t√™n kh√°ch, d·ªãch v·ª•, ph√≠ gia h·∫°n, n·ªôi dung chuy·ªÉn kho·∫£n m·∫´u.

5. G·ª≠i nh·∫Øc nh·ªü cho kh√°ch h√†ng (Telegram)

T·ª± ƒë·ªông g·ª≠i nh·∫Øc nh·ªü ƒë·∫øn Telegram ID c·ªßa kh√°ch h√†ng.

6. Telegram Trigger (X·ª≠ l√Ω tin nh·∫Øn kh√°ch g·ª≠i)

Khi kh√°ch g·ª≠i tin nh·∫Øn (·∫£nh ch·ª•p chuy·ªÉn kho·∫£n), workflow s·∫Ω k√≠ch ho·∫°t.

7. Check tin nh·∫Øn d·∫°ng ·∫£nh

Ki·ªÉm tra tin nh·∫Øn c√≥ ph·∫£i ·∫£nh kh√¥ng.

N·∫øu kh√¥ng ph·∫£i ‚Üí g·ª≠i th√¥ng b√°o l·ªói (‚Äútin nh·∫Øn kh√¥ng ph·∫£i l√† ·∫£nh ho·∫∑c ·∫£nh qu√° m·ªù‚Äù).

8. Download ·∫£nh & Upload Google Drive

L·∫•y file ·∫£nh t·ª´ Telegram API.

Chu·∫©n h√≥a ƒë·ªãnh d·∫°ng ·∫£nh sang image/jpeg.

Upload ·∫£nh v√†o Google Drive ƒë·ªÉ l∆∞u tr·ªØ.

9. Ph√¢n t√≠ch ·∫£nh b·∫±ng Google Gemini

Nh·∫≠n di·ªán th√¥ng tin t·ª´ ·∫£nh:

{
  "s·ªë_ti·ªÅn": 8700000,
  "n·ªôi_dung_chuy·ªÉn_kho·∫£n": "...",
  "ng√†y_giao_d·ªãch": "08/09/2025 14:30"
}

10. Chuy·ªÉn text sang JSON (Code Node)

L√†m s·∫°ch d·ªØ li·ªáu Gemini tr·∫£ v·ªÅ.

Chu·∫©n h√≥a s·ªë ti·ªÅn (b·ªè k√Ω t·ª± , v√† VND).

11. L·∫•y th√¥ng tin kh√°ch h√†ng (Google Sheets)

So kh·ªõp kh√°ch h√†ng theo ‚ÄúN·ªôi dung chuy·ªÉn ti·ªÅn‚Äù.

12. Filter + Check n·ªôi dung chuy·ªÉn kho·∫£n

Ki·ªÉm tra:

N·ªôi dung chuy·ªÉn kho·∫£n c√≥ kh·ªõp kh√¥ng.

ID kh√°ch h√†ng Telegram c√≥ ƒë√∫ng kh√¥ng.

13. Check s·ªë ti·ªÅn chuy·ªÉn kho·∫£n

So s√°nh s·ªë ti·ªÅn trong ·∫£nh v√† s·ªë ti·ªÅn c·∫ßn thanh to√°n.

üëâ N·∫øu ƒë√∫ng:

C·∫≠p nh·∫≠t tr·∫°ng th√°i ‚Äúƒê√£ thanh to√°n‚Äù trong Google Sheets.

G·ª≠i th√¥ng b√°o x√°c nh·∫≠n cho kh√°ch h√†ng.

G·ª≠i th√¥ng b√°o cho CSKH.

üëâ N·∫øu sai:

G·ª≠i c·∫£nh b√°o cho kh√°ch h√†ng (chuy·ªÉn kho·∫£n sai s·ªë ti·ªÅn / sai n·ªôi dung).

G·ª≠i c·∫£nh b√°o cho CSKH ƒë·ªÉ x·ª≠ l√Ω th·ªß c√¥ng.

üìä Quy tr√¨nh t√≥m t·∫Øt

Nh·∫Øc nh·ªü h·∫±ng ng√†y ‚Üí L·ªçc kh√°ch s·∫Øp h·∫øt h·∫°n ‚Üí G·ª≠i tin nh·∫Øn t·ª± ƒë·ªông.

Kh√°ch g·ª≠i ·∫£nh chuy·ªÉn kho·∫£n ‚Üí Nh·∫≠n di·ªán b·∫±ng AI ‚Üí So s√°nh Google Sheets ‚Üí

‚úÖ ƒê√∫ng: c·∫≠p nh·∫≠t sheet + th√¥ng b√°o x√°c nh·∫≠n.

‚ùå Sai: c·∫£nh b√°o kh√°ch + CSKH.

üöÄ L·ª£i √≠ch

T·ª± ƒë·ªông h√≥a ho√†n to√†n quy tr√¨nh nh·∫Øc nh·ªü & x√°c minh thanh to√°n.

Ti·∫øt ki·ªám th·ªùi gian CSKH v√¨ bot t·ª± ki·ªÉm tra v√† b√°o l·ªói.

H·∫°n ch·∫ø sai s√≥t trong qu√° tr√¨nh x√°c minh th·ªß c√¥ng.

L∆∞u tr·ªØ b·∫±ng Google Drive gi√∫p d·ªÖ d√†ng tra c·ª©u l·∫°i ch·ª©ng t·ª´.
